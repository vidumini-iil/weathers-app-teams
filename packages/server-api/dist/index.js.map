{"version":3,"file":"index.js","sources":["../src/api/search.ts","../src/index.tsx"],"sourcesContent":["import axios, { CancelTokenSource } from \"axios\";\r\n\r\nlet source: CancelTokenSource;\r\n\r\nexport const getContryList = () => {\r\n    return axios(\"https://restcountries.eu/rest/v2/all\")\r\n        .then((res) => {\r\n            const list = res.data.map((value: any) => ({\r\n                name: value.name,\r\n                countryCode: value.alpha2Code.toLowerCase(),\r\n            }));\r\n            return list;\r\n        })\r\n        .catch((error) => error);\r\n};\r\n\r\nexport const getCityList = (serachText: string, countryCode: string | null | undefined) => {\r\n    if (source) {\r\n        source.cancel(); // minimize server calling\r\n    }\r\n    source = axios.CancelToken.source();\r\n    return axios\r\n        .get(\"https://api.geoapify.com/v1/geocode/autocomplete\", {\r\n            cancelToken: source.token,\r\n            params: {\r\n                text: serachText,\r\n                filter: `countrycode:${countryCode}`,\r\n                type: \"city\",\r\n                apiKey: \"bf0cfe45ea014b5ab6b22c3b84e2e515\",\r\n            },\r\n        })\r\n        .then((res) => {\r\n            const list = res.data?.features.map((value: any) => ({\r\n                value: value.properties.city,\r\n                label: value.properties.city,\r\n            }));\r\n            return list;\r\n        })\r\n        .catch((error) => error);\r\n  \r\n};\r\n","import * as React from \"react\";\r\nimport styles from \"./styles.module.css\";\r\n\r\ninterface Props {\r\n    text: string;\r\n}\r\n\r\nexport const ExampleComponent = ({ text }: Props) => {\r\n    return <div className={styles.test}>test : {text}</div>;\r\n};\r\n\r\nexport { getContryList, getCityList } from \"./api/search\";\r\n"],"names":["source","getContryList","axios","then","res","list","data","map","value","name","countryCode","alpha2Code","toLowerCase","error","getCityList","serachText","cancel","CancelToken","get","cancelToken","token","params","text","filter","type","apiKey","features","properties","city","label","ExampleComponent","React","className","styles","test"],"mappings":";;;;;;;AAEA,IAAIA,MAAJ;AAEA,IAAaC,aAAa,GAAG,SAAhBA,aAAgB;AACzB,SAAOC,KAAK,CAAC,sCAAD,CAAL,CACFC,IADE,CACG,UAACC,GAAD;AACF,QAAMC,IAAI,GAAGD,GAAG,CAACE,IAAJ,CAASC,GAAT,CAAa,UAACC,KAAD;AAAA,aAAiB;AACvCC,QAAAA,IAAI,EAAED,KAAK,CAACC,IAD2B;AAEvCC,QAAAA,WAAW,EAAEF,KAAK,CAACG,UAAN,CAAiBC,WAAjB;AAF0B,OAAjB;AAAA,KAAb,CAAb;AAIA,WAAOP,IAAP;AACH,GAPE,WAQI,UAACQ,KAAD;AAAA,WAAWA,KAAX;AAAA,GARJ,CAAP;AASH,CAVM;AAYP,IAAaC,WAAW,GAAG,SAAdA,WAAc,CAACC,UAAD,EAAqBL,WAArB;AACvB,MAAIV,MAAJ,EAAY;AACRA,IAAAA,MAAM,CAACgB,MAAP;AACH;;AACDhB,EAAAA,MAAM,GAAGE,KAAK,CAACe,WAAN,CAAkBjB,MAAlB,EAAT;AACA,SAAOE,KAAK,CACPgB,GADE,CACE,kDADF,EACsD;AACrDC,IAAAA,WAAW,EAAEnB,MAAM,CAACoB,KADiC;AAErDC,IAAAA,MAAM,EAAE;AACJC,MAAAA,IAAI,EAAEP,UADF;AAEJQ,MAAAA,MAAM,mBAAiBb,WAFnB;AAGJc,MAAAA,IAAI,EAAE,MAHF;AAIJC,MAAAA,MAAM,EAAE;AAJJ;AAF6C,GADtD,EAUFtB,IAVE,CAUG,UAACC,GAAD;;;AACF,QAAMC,IAAI,gBAAGD,GAAG,CAACE,IAAP,8CAAG,UAAUoB,QAAV,CAAmBnB,GAAnB,CAAuB,UAACC,KAAD;AAAA,aAAiB;AACjDA,QAAAA,KAAK,EAAEA,KAAK,CAACmB,UAAN,CAAiBC,IADyB;AAEjDC,QAAAA,KAAK,EAAErB,KAAK,CAACmB,UAAN,CAAiBC;AAFyB,OAAjB;AAAA,KAAvB,CAAb;AAIA,WAAOvB,IAAP;AACH,GAhBE,WAiBI,UAACQ,KAAD;AAAA,WAAWA,KAAX;AAAA,GAjBJ,CAAP;AAmBH,CAxBM;;ICTMiB,gBAAgB,GAAG,SAAnBA,gBAAmB;MAAGR,YAAAA;AAC/B,SAAOS,mBAAA,MAAA;AAAKC,IAAAA,SAAS,EAAEC,MAAM,CAACC;GAAvB,WAAA,EAAqCZ,IAArC,CAAP;AACH,CAFM;;;;;;"}