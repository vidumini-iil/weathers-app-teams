{"version":3,"file":"index.modern.js","sources":["../src/api/api.tsx","../src/components/city/data/Data.tsx","../src/components/city/city.tsx","../src/api/search.ts","../src/index.tsx"],"sourcesContent":["export const ApiIdCity = \"cdd9baf674d2a4f1a402cf0d5655c4ee\";\r\n\r\n","export const Data =  {\"List\":[{\"CityCode\":\"1248991\",\"CityName\":\"Colombo\",\"Temp\":\"33.0\",\"Status\":\"Clouds\"},{\"CityCode\":\"1850147\",\"CityName\":\"Tokyo\",\"Temp\":\"8.6\",\"Status\":\"Clear\"},{\"CityCode\":\"2644210\",\"CityName\":\"Liverpool\",\"Temp\":\"16.5\",\"Status\":\"Rain\"},{\"CityCode\":\"2988507\",\"CityName\":\"Paris\",\"Temp\":\"22.4\",\"Status\":\"Clear\"},{\"CityCode\":\"2147714\",\"CityName\":\"Sydney\",\"Temp\":\"27.3\",\"Status\":\"Rain\"},{\"CityCode\":\"4930956\",\"CityName\":\"Boston\",\"Temp\":\"4.2\",\"Status\":\"Mist\"},{\"CityCode\":\"1796236\",\"CityName\":\"Shanghai\",\"Temp\":\"10.1\",\"Status\":\"Clouds\"},{\"CityCode\":\"3143244\",\"CityName\":\"Oslo\",\"Temp\":\"-3.9\",\"Status\":\"Clear\"}]};","import { ApiIdCity } from \"../../api/api\";\r\nimport { Data } from \"./data/Data\";\r\n\r\nexport const getCities = async () => {\r\n  try {\r\n    const getData = Data.List;\r\n\r\n    const loadedCitiesCode = [];\r\n\r\n    for (const key in getData) {\r\n      loadedCitiesCode.push(getData[key].CityCode);\r\n    }\r\n\r\n    const stringCitiesCode = loadedCitiesCode.join(\",\");\r\n    console.log(\"stringCitiesCode \", stringCitiesCode);\r\n\r\n    const apiUrl = `http://api.openweathermap.org/data/2.5/group?id=${stringCitiesCode}&units=metric&appid=${ApiIdCity}`;\r\n    const resData = await fetch(apiUrl)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        return data;\r\n      });\r\n\r\n    const payload = resData.list;\r\n    //console.log(payload, \" payload HaaHHello\");\r\n\r\n    return payload;\r\n\r\n  } catch (error) {\r\n    console.log(error);\r\n    console.log(\"error\");\r\n    //throw error;\r\n  }\r\n};\r\n","import axios, { CancelTokenSource } from \"axios\";\r\n\r\nlet source: CancelTokenSource;\r\n\r\nexport const getContryList = () => {\r\n    return axios(\"https://restcountries.eu/rest/v2/all\")\r\n        .then((res) => {\r\n            const list = res.data.map((value: any) => ({\r\n                name: value.name,\r\n                countryCode: value.alpha2Code.toLowerCase(),\r\n            }));\r\n            return list;\r\n        })\r\n        .catch((error) => error);\r\n};\r\n\r\nexport const getCityList = (serachText: string, countryCode: string | null | undefined) => {\r\n    if (source) {\r\n        source.cancel(); // minimize server calling\r\n    }\r\n    source = axios.CancelToken.source();\r\n    return axios\r\n        .get(\"https://api.geoapify.com/v1/geocode/autocomplete\", {\r\n            cancelToken: source.token,\r\n            params: {\r\n                text: serachText,\r\n                filter: `countrycode:${countryCode}`,\r\n                type: \"city\",\r\n                apiKey: \"bf0cfe45ea014b5ab6b22c3b84e2e515\",\r\n            },\r\n        })\r\n  \r\n};\r\n","import * as React from \"react\";\r\nimport styles from \"./styles.module.css\";\r\nimport { getCities } from \"./components/city/city\";\r\n\r\ninterface Props {\r\n  text: string;\r\n}\r\n\r\nexport const ExampleComponent = ({ text }: Props) => {\r\n  return <div className={styles.test}>test : {text}</div>;\r\n};\r\n\r\nexport { getContryList, getCityList } from \"./api/search\";\r\nexport { getCities };\r\n"],"names":["ApiIdCity","Data","getCities","getData","List","loadedCitiesCode","key","push","CityCode","stringCitiesCode","join","console","log","apiUrl","resData","fetch","then","response","json","data","payload","list","error","source","getContryList","axios","res","map","value","name","countryCode","alpha2Code","toLowerCase","catch","getCityList","serachText","cancel","CancelToken","get","cancelToken","token","params","text","filter","type","apiKey","ExampleComponent","React","className","styles","test"],"mappings":"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"}